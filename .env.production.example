# Production Environment Configuration
# Copy this file to .env and update all CHANGE_ME values

# ======================
# Application Settings
# ======================
APP_NAME=Paradocks
APP_ENV=production
APP_KEY=  # Will be generated with: php artisan key:generate
APP_DEBUG=false
APP_TIMEZONE=Europe/Warsaw
APP_URL=https://your-domain.com

APP_LOCALE=pl
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=pl_PL

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

BCRYPT_ROUNDS=12

# ======================
# Logging
# ======================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=info  # Options: debug, info, notice, warning, error, critical, alert, emergency

# ======================
# Database (MySQL)
# ======================
DB_CONNECTION=mysql
DB_HOST=mysql  # Docker service name
DB_PORT=3306
DB_DATABASE=paradocks
DB_USERNAME=paradocks
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD  # IMPORTANT: Change to strong password!
DB_ROOT_PASSWORD=CHANGE_ME_STRONG_ROOT_PASSWORD  # For backups/admin

# ======================
# Session & Cache
# ======================
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

CACHE_STORE=redis
CACHE_PREFIX=

# ======================
# Queue System
# ======================
QUEUE_CONNECTION=redis
QUEUE_FAILED_DRIVER=database-uuids

# ======================
# Redis
# ======================
REDIS_CLIENT=predis
REDIS_HOST=redis  # Docker service name
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD  # IMPORTANT: Change to strong password!
REDIS_PORT=6379
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2
REDIS_SESSION_DB=3

# ======================
# Mail (Gmail SMTP)
# ======================
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=CHANGE_ME_APP_PASSWORD  # Gmail App Password (16 characters)
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=your-email@gmail.com
MAIL_FROM_NAME="${APP_NAME}"

# ======================
# AWS (Optional - for S3 backups)
# ======================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=eu-central-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# ======================
# Pusher (Optional - for WebSockets)
# ======================
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=eu

# ======================
# Vite (Asset Compilation)
# ======================
VITE_APP_NAME="${APP_NAME}"

# ======================
# Google Maps API
# ======================
GOOGLE_MAPS_API_KEY=CHANGE_ME_YOUR_API_KEY  # Get from: https://console.cloud.google.com/
GOOGLE_MAPS_MAP_ID=CHANGE_ME_YOUR_MAP_ID    # Required for AdvancedMarkerElement

# ======================
# Security
# ======================
# Generate strong random keys:
# openssl rand -base64 32

# Rate Limiting
THROTTLE_LIMIT=60  # Requests per minute

# ======================
# Horizon Dashboard
# ======================
HORIZON_DOMAIN=your-domain.com
HORIZON_PATH=/horizon

# ======================
# Telescope (Debugging - disable in production!)
# ======================
TELESCOPE_ENABLED=false

# ======================
# Filament
# ======================
FILAMENT_FILESYSTEM_DISK=public

# ======================
# Backup (Optional - for automated backups)
# ======================
BACKUP_DESTINATION_DISK=s3
BACKUP_ENCRYPTION_PASSWORD=CHANGE_ME_BACKUP_PASSWORD
BACKUP_NOTIFICATION_MAIL=admin@your-domain.com

# ======================
# Monitoring (Optional)
# ======================
SENTRY_DSN=  # Optional: Sentry error tracking
SENTRY_TRACES_SAMPLE_RATE=0.1

# ======================
# Production Optimizations
# ======================
OPTIMIZE_ENABLED=true
VIEW_COMPILED_PATH=/var/www/storage/framework/views

# ======================
# Important Production Notes
# ======================
# 1. Change ALL passwords above (marked with CHANGE_ME)
# 2. Generate APP_KEY: docker compose -f docker-compose.prod.yml run --rm app php artisan key:generate
# 3. Enable 2FA on Gmail and generate App Password
# 4. Apply HTTP referrer restrictions to Google Maps API key
# 5. Never commit .env file to Git (only commit .env.production.example)
# 6. Use strong passwords (minimum 16 characters, mixed case, numbers, symbols)
# 7. Set up automated backups (scripts/backup-database.sh)
# 8. Monitor logs: docker compose -f docker-compose.prod.yml logs -f
